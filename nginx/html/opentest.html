<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<title>GP Connect in Spine Opentest environment</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<link rel="stylesheet" href="styles.css">
		<link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">
	</head>
	<body>
		<div class="container">
	
			<div class="header-logo"><img src="nhs-digital-logo.png" alt="NHS Digital logo"/></div>

			<h1>GP Connect in Spine Opentest</h1>

			<p>As well as the internet accessible development environment available at <a href="https://orange.testlab.nhs.uk"><code>https://orange.testlab.nhs.uk</code></a>, GP Connect is available in the Spine OpenTest environment.</p>

			<p>In order to get started and create an OpenTest account, please read the following pages:</p>

			<ul>
				<li><a href="https://digital.nhs.uk/services/spine/open-access-test-environment-for-spine-opentest">Open access test environment for Spine, Opentest</a></li>
				<li><a href="https://nhs-digital-opentest.github.io/Welcome/index.html">Opentest: Technical Information for Suppliers and NHS IT Professionals</a></li>
			</ul>

			<h2>Opentest endpoints</h2>

			<p>Please note the following endpoints are available only once connected to the OpenTest VPN; please see the links above for creating an account.</p>

			<table class="table table-urls">
				<thead>
					<tr><th>Service</th><th>Endpoint</th><th style="width: 200px;">Notes</th></tr>
				</thead>
				<tbody>
					<tr>
						<td><strong>GP Connect 0.x (DSTU2) service root URLs</strong></td>
						<td>
							<table>
								<tr><td><em>Access Record HTML:</em></td><td><code>https://messagingportal.opentest.hscic.gov.uk:19192/v0/fhir</code></td></tr>
							</table>
						</td>
						<td><a href="https://developer.nhs.uk/apis/gpconnect-0-7-2/development_fhir_api_guidance.html#service-root-url">More information</a></td>
					</tr>
					<tr>
						<td><strong>GP Connect 1.x (STU3) service root URLs</strong></td>
						<td>
							<table>
								<tr><td style="width: 100px; white-space: nowrap;"><em>Appointment Management:</em></td><td><code>https://messagingportal.opentest.hscic.gov.uk:19192/v1/fhir</code></td></tr>
								<tr><td><em>Access Record Structured:</em></td><td><code>https://messagingportal.opentest.hscic.gov.uk:19192/v1/fhir</code></td></tr>
							</table>
						</td>
						<td><a href="https://developer.nhs.uk/apis/gpconnect/development_general_api_guidance.html#service-root-url">More information</a></td>
					</tr>
					<tr>
						<td><strong>Spine Directory Service (SDS)</strong></td>
						<td><code>ldap://msg.opentest.hscic.gov.uk</code></td>
						<td><a href="https://developer.nhs.uk/apis/gpconnect/integration_spine_directory_service.html">More information</a><br/>The base DN is <code>o=nhs</code><br/><em>Note:</em> in Live this service runs using <code>ldaps://</code></td>
					</tr>
					<tr>
						<td><strong>Personal Demographic Service (PDS)</strong></td>
						<td>
							<table>
								<tr><td style="width: 100px;"><em>PDS query:</em></td><td><code>https://msg.opentest.hscic.gov.uk/syncservice-pds/pds</code></td></tr>
								<tr><td><em>PDS:</em></td><td><code>https://msg.opentest.hscic.gov.uk/reliablemessaging/reliablerequest</code></td></tr>
							</table>
						</td>
						<td><a href="https://developer.nhs.uk/apis/gpconnect/integration_personal_demographic_service.html">More information</a></td>
					</tr>
					<tr>
						<td><strong>Personal Demographic Service (PDS) SMSP</strong></td>
						<td><code>https://msg.opentest.hscic.gov.uk/smsp/pds</code></td>
						<td><a href="https://developer.nhs.uk/apis/gpconnect/integration_personal_demographic_service.html">More information</a></td>
					</tr>
					<tr>
						<td><strong>Spine Secure Proxy (SSP)</strong></td>
						<td><code>https://proxy.opentest.hscic.gov.uk</code></td>
						<td><a href="https://developer.nhs.uk/apis/gpconnect/integration_spine_secure_proxy.html">More information</a></td>
					</tr>
				</tbody>
			</table>

			<h3>DNS in Opentest</h3>

			<p>Some users have experienced issues with DNS resolution over the Opentest VPN.  If that is the case you may need to set the following DNS names manually using a .hosts file or equivalent:</p>

			<table class="table table-urls">
				<thead>
					<tr>
						<th style="width: 500px;">DNS name</th>
						<th>IP address</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td><code>msg.opentest.hscic.gov.uk</code></td>
						<td><code>192.168.128.11</code></td>
					</tr>
					<tr>
						<td><code>messagingportal.opentest.hscic.gov.uk</code></td>
						<td><code>192.168.128.16</code></td>
					</tr>
					<tr>
						<td><code>proxy.opentest.hscic.gov.uk</code></td>
						<td><code>192.168.128.55</code></td>
					</tr>
					<tr>
						<td><em>The above names may be resolved against the DNS Opentest server at:</em></td>
						<td><code>192.168.128.30</code></td>
					</tr>
				</tbody>
			</table>

			<h2>Test data</h2>

			<p>The following data is configured in SDS, PDS and the GP Connect reference implementations.  Please do not amend the data in PDS as it will impact other users.</p>

			<h3>Organizations</h3>

			<table class="table table-striped">
				<thead>
					<tr><th>ODS code</th><th>Provider ASID</th><th>Organization name</th><th>Notes</th></tr>
				</thead>
				<tbody>
					<tr><td>A20047</td><td>918999198993</td><td>Dr Legg's Surgery</td><td>The ODS code and ASID of the GP practice represented by the demonstrator</td></tr>
				</tbody>
			</table>

			<h3>Patients</h3>

			<table class="table table-striped">
				<thead>
					<tr><th>Id</th><th>NHS number</th><th>Date of birth</th><th>Title</th><th>Given name</th><th>Family name</th><th>Gender</th><th>Notes</th></tr>
				</thead>
				<tbody>
					<tr><td>1</td><td>9658218865</td><td>14-Nov-1933</td><td>Mr</td><td>Garth</td><td>Wright</td><td>Male</td><td></td></tr>
					<tr><td>2</td><td>9658218873</td><td>19-Jun-1927</td><td>Mr</td><td>Mike</td><td>Meakin</td><td>Male</td><td></td></tr>
					<tr><td>3</td><td>9658218881</td><td>08-Aug-1921</td><td>Mr</td><td>Kevin</td><td>Leach</td><td>Male</td><td></td></tr>
					<tr><td>4</td><td>9658218903</td><td>21-Jul-1939</td><td>Mr</td><td>Arnold</td><td>Olley</td><td>Male</td><td></td></tr>
					<tr><td>5</td><td>9658218989</td><td>19-Sep-1918</td><td>Mrs</td><td>Mina</td><td>Leech</td><td>Female</td><td></td></tr>
					<tr><td>6</td><td>9658218997</td><td>28-Dec-1944</td><td>Ms</td><td>Lauren</td><td>Corr</td><td>Female</td><td></td></tr>
					<tr><td>7</td><td>9658219004</td><td>09-Jun-1939</td><td>Miss</td><td>Cassie</td><td>Bray</td><td>Female</td><td></td></tr>
					<tr><td>8</td><td>9658219012</td><td>05-Oct-1925</td><td>Ms</td><td>Kim</td><td>Grigg</td><td>Female</td><td></td></tr>
					<tr><td>9</td><td>9658220142</td><td>03-Oct-1999</td><td>Ms</td><td>Emilie</td><td>Kewn</td><td>Female</td><td>Patient dissented</td></tr>
					<tr><td>10</td><td>9658220150</td><td>13-Feb-1964</td><td>Mrs</td><td>Amanda</td><td>Currie</td><td>Female</td><td>Patient dissented</td></tr>
<!--					<tr><td>11</td><td>9658220223</td><td>27-Nov-1969</td><td>Mrs</td><td>Dilys</td><td>Tabron</td><td>Female</td><td></td></tr>
					<tr><td>12</td><td>9658220215</td><td>05-Feb-1968</td><td>Mrs</td><td>Emilia</td><td>Cragg</td><td>Female</td><td></td></tr>
					<tr><td>13</td><td>9658219691</td><td>13-May-1987</td><td>Ms</td><td>Anne</td><td>Rumble</td><td>Female</td><td></td></tr>
					<tr><td>14</td><td>9476718943</td><td>15-May-1927</td><td>Ms</td><td>Georgina</td><td>Hopley</td><td>Female</td><td>Patient not on PDS</td></tr>
					<tr><td>15</td><td>9658220169</td><td></td><td></td><td></td><td></td><td></td><td>Patient dissented</td></tr>
					<tr><td>16</td><td>9658219705</td><td>21-July-1989</td><td>Mrs</td><td>Zelma</td><td>Dimeck</td><td>Female</td><td></td></tr>
					<tr><td>17</td><td>9658219713</td><td>04-July-1995</td><td>Mrs</td><td>Dee</td><td>Reay</td><td>Female</td><td></td></tr>
					<tr><td>18</td><td>9658220290</td><td></td><td></td><td></td><td></td><td></td><td>Patient deceased</td></tr>
					<tr><td></td><td>9999999999</td><td></td><td></td><td></td><td></td><td></td><td>No patient record in system</td></tr>
					<tr><td>20</td><td>9658219721</td><td>30-Jun-1980</td><td>Ms</td><td>Muriel</td><td>May</td><td>Female</td><td></td></tr>
					<tr><td>21</td><td>9658219748</td><td></td><td></td><td></td><td></td><td></td><td>Patient inactive</td></tr> -->
				</tbody>
			</table>

			<div id="last-deploy-date"></div>

<script>

    window.onload = function() {
        var xmlhttp = new XMLHttpRequest();

        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == XMLHttpRequest.DONE) { 
               if (xmlhttp.status == 200) {
                   document.getElementById('last-deploy-date').innerHTML = xmlhttp.responseText;
               }
            }
        };

        xmlhttp.open("GET", "last-deployed.txt", true);
        xmlhttp.send();
    }
</script>

		</div>

	</body>
</html>
